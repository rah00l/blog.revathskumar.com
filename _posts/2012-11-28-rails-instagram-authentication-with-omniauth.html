---
layout: post
title: "Rails : instagram authentication with omniauth"
date: 2012-11-28 18:52:42 UTC
updated: 2012-11-28 18:52:42 UTC
comments: false
categories: http://schemas.google.com/blogger/2008/kind#post ruby-on-rails authentication
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div class="separator" style="clear: both; text-align: center;"></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-7oNBFZx1AL8/UKv43Qgj6II/AAAAAAAAJMw/OUUNRactnng/s1600/rails-plus-instagram.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="106" src="http://2.bp.blogspot.com/-7oNBFZx1AL8/UKv43Qgj6II/AAAAAAAAJMw/OUUNRactnng/s320/rails-plus-instagram.jpg" width="320" /></a></div><br />In this blog post I am trying to give a demo on how to authenticate user using their <a href="http://instagram.com/" rel="nofollow" target="_blank">Instagram</a> account using rails and <a href="https://github.com/intridea/omniauth" rel="nofollow" target="_blank">omniauth</a> gem. <br /><br /><b><span style="font-family: inherit;">Register the application</span></b><br />&nbsp; &nbsp; The first thing you need to do is to register a application on instagram <a href="http://instagram.com/developer/clients/manage/" rel="nofollow" target="_blank">developer site</a> and obtain the client_id and client_secret. I usually register two apps one for development and other for production since the redirect url for both will be different. Below are the recommended redirect urls.<br /><ul style="text-align: left;"><li>Development :&nbsp;http://localhost:3000/auth/instagram/callback</li><li>Production : http://&lt;domain.name&gt;/auth/instagram/callback</li></ul><div>Of-course you can customize the call back url but make sure that you setup the routes accordingly.</div><div><br /></div><div><b>Preparing application</b><br />&nbsp; &nbsp; Next step is to create a fresh application with <b>rails new</b> command. I prefer to use <b>--skip-bundle</b> option with <b>rails new</b> since any way we need to add the omniauth gem to Gemfile and do the bundle. So why we need to do bundle twice ;).   <br /><script src="https://gist.github.com/4120241.js?file=new_rails_app.sh"></script><noscript>    <pre><br />rails new InstaApp --skip-bundle<br />    </pre></noscript></div><br /></div>
